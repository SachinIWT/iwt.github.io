(window.webpackJsonp=window.webpackJsonp||[]).push([["vendors~infogram-charts/charts-column_grouped"],{"pzE/":function(t,e,a){"use strict";a.r(e),a.d(e,"ColumnGrouped",function(){return z});var i=a("LvDl"),r=a.n(i),o=a("vBe5"),n=a("ziQ1"),c=a("/TIM"),s=(a("iD6h"),a("+3eq")),l=a("30U6"),d=a("mb2s"),h=a("U/3o"),g=a("2LMz"),u=a("Io7g"),f=a("W3QS"),p=a("tb4o"),y=a("FNBR"),m=a("Z8Kf"),b=a("xuOt"),v=a("w9oG"),x=a("FVwI"),O=a("7S+G"),w=a("GBhQ"),j=a("LM2t"),S=a("Xmbb"),k=a("AF4e"),D=a("t9/8"),L=a("8IAH"),E=a("pKNx");function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var a=[],i=!0,r=!1,o=void 0;try{for(var n,c=t[Symbol.iterator]();!(i=(n=c.next()).done)&&(a.push(n.value),!e||a.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==c.return||c.return()}finally{if(r)throw o}}return a}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function B(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function I(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function A(t,e,a){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,a){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=G(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(a):r.value}})(t,e,a||t)}function G(t){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var z=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,G(e).apply(this,arguments))}var a,i,C;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}(e,h["default"]),a=e,(i=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,a=this.root,i=new O.Renderer({instance:this}),l=this.getSheetData(),h=Object(u.default)(l),b=this.runtime={width:e.width,height:e.height,components:{},layout:{},inanimate:Object(g.inanimated)(e),sheet:l,formatter:h},v=this.prepareSheetData(l,this.sheetIndex);L&&L.chartType("column"),this.createTickIntervals(),Object(j.SheetSwitcher)(this,{width:e.width}),Object(D.DownloadButton)(this,e.style.legend);var L=Object(w.legendHelper)({instance:this});if(!(d.default.prototype.sheetsNotFound.call(this)||this.sheetsNotFound(v)||this.failSafeByHeight(40))){var E=b.margin=b.layout.margin={top:0,right:2,bottom:0,left:0},C=b.layout.marginTitle={left:0,right:0,top:0,bottom:0},B={left:0,right:0},I=b.limits={maxCategoryWidth:0,maxCategoryHeight:10},A=b.bottomLabelPadding={top:6,right:2,bottom:4,left:2},G=e.style.axis,H=G.x,z=G.y,P=T(l.axis,2),R=P[0],W=P[1];b.xAxisOptions=R,b.yAxisOptions=W;var _=b.categoryData=this.getCategoryData(v),M=b.yDomain="absolute"!==e.series.data||Object(w.legendFiltered)(this)?this.getDomain(v):this.getSheetsSeriesDomain(),F=Object(x.limit)(W,M),U=M[0]<0,V=b.yScale=Object(n.scaleLinear)().domain(M).clamp(F),N=l.categories.categoryWidth,Z=N&&"string"==typeof N&&"%"===N[N.length-1];N=N?Math.round(parseFloat(l.categories.categoryWidth)):null,b.categoryLayout=l.categories.layout;var Q=this.createAnimationCounter(3),J=b.spacing={maxBeforeXAxisTick:50,beforeCategoryBorder:U?A.top:0,beforeBottomCategories:5},K=b.components.yAxisLeftText=Object(p.default)().scale(V).orient("left").style(z.tick),X=r.a.get(R,"title");this.titleLayout(["x","y"]);var q=b.width-E.left-C.left-E.right-C.right,Y={width:0,height:0};if(W.ticks){var $=f.ScaleHelper.ticks(V,this.runtime.yTickInterval);Y=this.yTicksMetrics($),B.left=Y.width,E.top=Y.height}var tt=b.height-E.top-C.top-E.bottom-C.bottom;I.maxCategoryHeight+=Math.floor(.27*tt),b.graphWidth=q-B.left-B.right;var et=Object(o.range)(0,_.length),at=1===et.length,it=at?1:void 0,rt=b.xScale=Object(m.Ordinal)().domain(et).rangeBandsPct([0,b.graphWidth],Z?.01*N:it),ot=!Z&&N;ot&&(rt=b.xScale=Object(m.Ordinal)().domain(et).rangeBandsFixed([0,b.graphWidth],N)),b.xScaleResize=ot?function(t,e){t.rangeBandsFixed(e,N)}:function(t,e){t.rangeBandsPct(e,Z?.01*N:it)};var nt={scaleType:ot?"fixed":"pct",only:at};b.igcLeftOffset=E.left+C.left+B.left,I.maxCategoryWidth=rt.rangeBand()+rt.padding()-A.left-A.right,at&&(I.maxCategoryWidth=b.graphWidth-A.left-A.right);var ct=this.createCategoryLabels();I.maxCategoryHeight=ct.height+A.top+A.bottom;var st=_.length!==ct.renderData.length||!R.ticks;st&&(ct.renderData=[],I.maxCategoryHeight=X?A.top:1);var lt=Object(f.Bottom)().style(H.tick).data(R.ticks?ct.renderData:[]).textAlign(ct.renderData.textAlign).bounds({height:I.maxCategoryHeight,y:tt-I.maxCategoryHeight+J.beforeBottomCategories}),dt=b.graphHeight=tt-I.maxCategoryHeight-J.beforeCategoryBorder;V.range([dt,0]);var ht=r.a.get(l,"graphOptions.column",{}),gt=ht.showValues,ut=ht.valuesOutside;gt&&ut&&this.adjustScaleDomainToOutsideValues(V,v,W);var ft=b.components.yGridLines=Object(y.GridLines)().scale(V).orient(y.GridLines.ORIENTS.horizontal).tickSize(-q).highlightZero(l.grid.horizontalZeroHighlight).style(e.style.grid).offset({left:-B.left}),pt=Object(y.GridLines)().scale(rt).orient(y.GridLines.ORIENTS.vertical).tickSize(dt).highlightZero(l.grid.verticalZeroHighlight).style(e.style.grid);l.grid.vertical||pt.tickValues([]),K.textOffset(-.25*Y.height).offset({left:-B.left}),this.yTicksSetup(),this.gridSetupHorizontal();var yt=0;W.ticks&&(yt=K.getBorderingTick()-Y.height)>0&&(yt=0),b.layout.firstTickOffset=yt,this.titleComponents(["x","y"]);var mt=b.components,bt=mt.bottomTitle,vt=mt.leftTitle;bt.dispatch().on("animationEnd",Q);var xt={igc:{x:b.igcLeftOffset,y:E.top+C.top}};b.inanimate&&Object(g.removeAnimation)([vt,bt,pt,ft,K,lt]),this.containerSetup();var Ot=a.select(".igc"),wt=s[e.animation.ease],jt=e.animation.duration;i.add(function(){a.attr("width",b.width).attr("height",b.height).transition().ease(wt).duration(jt).on("start",function(){t.events.call("startAnimation")}).on("end",function(){Q()}),Ot.attr("transform","translate(".concat(xt.igc.x,", ").concat(xt.igc.y,")"))}),i.addGrid(K,"igc-y-axis-text"),i.addGrid(ft,"igc-ygrid"),i.addGrid(pt,"igc-xgrid"),i.addGrid(lt,"igc-x-axis-text"),i.addGraph([{graphs:v,x:rt,y:V,textStyle:e.style.graph.item.value,legend:L,tooltip:Object(k.createStyledTooltip)(this),transitionDuration:jt,animationEnd:Q,groupOpts:nt}]),l.grid.horizontal&&R.ticks&&!st?i.addGrid(function(t){t.each(function(){var t=Object(c.select)(this).selectAll(".igc-x-axis-border-line").data([0]),a=jt;0===t.size()&&(a=0),(t=t.merge(t.enter().append("rect"))).attr("class","igc-x-axis-border-line").transition().ease(wt).duration(a).attr("x",-B.left).attr("width",b.graphWidth+E.right+B.left).attr("y",dt+J.beforeCategoryBorder).attr("height",2).styles({fill:e.style.grid.color,stroke:"none","stroke-width":0})})},"igc-x-axis-border"):i.add(function(){a.select(".igc .igc-grid .igc-x-axis-border").remove()}),l.grid.horizontal?i.addGrid(function(t){t.each(function(){if(st)Object(c.select)(this).selectAll(".igc-x-axis-separator").remove();else{var t=b.xScale,a=Object(m.getScalePositions)(t),i=a.slice(0),r=a[a.length-1],o=t.padding()/2,n=0,s=jt;1===a.length?i.push(r+t.bandwidth()+2*o):(n=a[1]-(a[0]+t.bandwidth()),i.push(r+t.bandwidth()+n));var l=(n=t.padding())/2,d=Object(c.select)(this).selectAll(".igc-x-axis-separator").data(i);0===d.size()&&(s=0);var h="tilted"===ct.layout?2*J.beforeBottomCategories:I.maxCategoryHeight;d.exit().remove(),(d=d.enter().append("rect").attr("class","igc-x-axis-separator").merge(d)).attr("y",dt+J.beforeCategoryBorder).attr("x",function(e){return Math.round(e-l-t.bandwidth()/2)}).attr("height",h).attr("width",1).style("opacity",S.eps).transition().ease(wt).duration(s).style("opacity",1).styles({fill:e.style.grid.color,stroke:"none","stroke-width":0})}})},"igc-x-axis-separators"):i.add(function(){a.select(".igc .igc-grid .igc-x-axis-separators").remove()}),i.addTitle(vt,"igc-title-left"),i.addTitle(bt,"igc-title-bottom"),i.start()}}},{key:"graphInstanceSetup",value:function(t,e,a,i){var r=e.data.length,o=this.legendData,n=this.chartId,c=this.runtime.formatter,d=e.colors,h=i.legend,u=i.tooltip,f=i.groupOpts,p=Object.values(o).some(function(t){return!1===t.active}),y=this.graphData({data:e.data,behaviour:v.ColumnGrouped.BEHAVIOURS.COLUMN_GROUPED,colors:d,filter:p?o:void 0,groupOpts:f}),m=Object(l.dispatch)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl"),b=Object(L.createListenToLegend)({easing:s.easeLinear,ns:"shape",opacity:null,dispatch:m}),x=Object(E.createAddMouseEvents)({dispatch:m,legend:h,opacity:null,tooltip:u,chartId:n,tooltipText:function(t){return"".concat(t.xLabel,": ").concat(c.tooltip.y.format(t.yLabel))},tooltipValue:function(t){return"".concat(t.groupLabel)},colors:d});h&&h.data().forEach(function(t){h.addListener({id:"".concat(n,"_").concat(t.groupId),dispatch:m})});var O=Object(g.removeDelay)(this,function(t,e){return e/r*(i.transitionDuration-200)});t.data(y).listenToLegend(b).addMouseEvents(x).dispatch(m).transitionDelay(O).transitionDuration(i.transitionDuration)}},{key:"emptySheetData",value:function(){return r.a.merge({},A(G(e.prototype),"emptySheetData",this).call(this),{categories:{padding:20},graphOptions:{column:{valuesOutside:!1}},series:[{type:"column-grouped"}]})}},{key:"prepareSheetData",value:function(t,e){var a=t.categories.colors,i=r.a.get(t,"graphOptions.column",{}),o=i.showValues,n=i.valuesOutside;t.categories.data||(t.categories.data=[]);var c=t.categories.data.length,s=t.categories.data.map(function(t,e){return{colors:a,data:[],categoryIdx:e,showValues:!0===o,valuesOutside:!!n,type:"column-grouped"}});t.series.forEach(function(e,a){var i=r.a.get(e,"index",a);e.data.length<c&&t.categories.data.forEach(function(t,a){e.data[a]=e.data[a]}),e.data.forEach(function(a,o){var n=t.categories.data[o];void 0!==n&&s[o].data.push({x:o,y:Object(b.replaceBlank)(a,null),xLabel:Object(b.replaceBlank)(e.title),yLabel:Object(b.replaceBlank)(e.rawData[o]),groupLabel:Object(b.replaceBlank)(n),seriesIdx:i,link:r.a.get(e,"links[".concat(o,"]"),null)})})});var l=s.length;if(s.forEach(function(t){var e=t.data.length,a=0;0!==e&&(t.data.forEach(function(t){null===t.y&&a++}),a===e&&(t.data=[]))}),(s=s.filter(function(t){return t.data&&t.data.length>0})).length!==l&&s.forEach(function(t,e){t.data.forEach(function(t){t.x=e})}),e===this.sheetIndex){var d=Object(w.createLegendData)(this);s.forEach(function(t){t.data=t.data.filter(function(e){return d({color:Object(b.getColor)(e.seriesIdx,t.colors),title:e.xLabel,groupId:e.seriesIdx}).active})})}return s}}])&&B(a.prototype,i),C&&B(a,C),e}()}}]);